#--------------------------------------表达式----------------------------------------------------------------------
## 终结符与非终结符
表达式		    A
算术表达式		B
关系表达式		C
布尔表达式		D
赋值表达式		E
项		        F
因子		        G
常量		        H
变量		        I
函数调用		    J
数值型常量		k
字符型常量		l
标识符		    m
实参列表		    N
实参		        O
关系运算符		p
布尔项		    Q
布尔因子		    R
## 产生式
<表达式> -> <算术表达式> | <关系表达式> | <布尔表达式> | <赋值表达式>
<算术表达式> -> <项> + <算术表达式> | <项> - <算术表达式> | <项>
<项> -> <因子> * <项> | <因子> / <项> | <因子> % <项> | <因子>
<因子> -> (<算术表达式>) | <常量> | <变量> | <函数调用>
<常量> -> <数值型常量> | <字符型常量>
<变量> -> <标识符>
<函数调用> -> <标识符> (<实参列表>)
<实参列表> -> <实参> | 空
<实参> -> <表达式> | <表达式>,<实参>
<关系表达式> -> <算术表达式> <关系运算符> <算术表达式>
<关系运算符> -> > | < | >= | <= | == | !=
<布尔表达式> -> <布尔项> || <布尔表达式> | <布尔项>
<布尔项> -> <布尔因子> && <布尔项> | <布尔因子>
<布尔因子> -> <算术表达式> | <关系表达式> | !<布尔表达式>
<赋值表达式> -> <标识符> = <表达式>
## 产生式符号化
A -> B | C | D | E
B -> F+B | F-B | F
F -> G*F | G/F | G%F | G
G -> (B) | H | I | J
H -> k | l
I -> m
J -> m (N)
N -> O | 空
O -> A | A,O
C -> BpB
D -> Q||D | Q
Q -> R&&Q | R
R -> B | C | !D
E -> m=A
## 化为LL(1)文法的条件
1、不含左递归
2、对文法中的任意一个非终结符A的各个候选式的首终结符两两不相交
3、对文法中的每个非终结符A，若其某个首终结符含空，则要有First(A) 交 Follow = 空

### 消除左递归
A -> B | C | D | mA'
A' = =A
B -> FB' | F
B'-> +FB' | -FB' | 空
F -> GF' | G
F' -> *GF' | /GF' | %GF' | 空
G -> (B) | H | I | J
H -> k | l
I -> m
J -> m (N)
N -> O | 空
O -> A | AO'
O' -> ,AO' | 空
C -> BpB
D -> QD' | Q
D' -> ||QD' | 空
Q -> RQ' | R
Q' -> &&RQ' | 空
R -> B | C | !D
E -> m=A
### 计算First集
A -> B | C | D | E
First(A->B) -> { (,k,l,m }
First(A->C) -> { (,k,l,m }
First(A->D) -> { (,k,l,m,! }
First(A->E) -> { m }
上述First集存在两两相交，进行改造
A -> ST | !DQ^D^
S -> GF^B^
T -> pBB' | !DQ^D^ | E | ||QD' | &&RQ'D^ | 空
B' -> ||QD' | &&QD'D^ | 空
F^ -> *GF' | /GF' | %GF'  | 空
B^ -> +FB' | -FB' | 空
Q^ -> &&RQ' | 空
D^ -> ||QD' | 空
First(A->ST) -> { (,k,l,m,! }
First(S->GF^B^) -> { (,k,l,m }
First(T->pBB') -> {p}
First(T->!DQ^D^) -> {!}
First(T->E) -> {m}
First(T->||DQ') -> {|}
First(T->&&RQ'D^) -> {&}
First(T->空) -> {空}
First(B' -> ||QD') -> {|}
First(B' -> &&QD'D^) -> {&}
First(B' -> 空) -> 空
First(F^ -> *GF') -> {*}
First(F^ -> /GF') -> {/}
First(F^ -> %GF') -> {%}
First(F^ -> 空) -> {空}
First(B^ -> +FB') -> {+}
First(B^ -> -FB') -> {-}
First(B^ -> 空) -> {空}
First(Q^ -> &&RQ') -> {&}
First(Q^ -> 空) -> {空}
First(D^ -> ||QD') -> {|}
First(D^ -> 空) -> {空}

B->FB'|F
上述First集存在两两相交，进行改造
B -> FB''
B'' -> +FB' | -FB' | 空
First(B->FB'') -> { (, k, l, m }
First(B''->+FB') -> {+}
First(B''->-FB') -> {-}
First(B''->空) -> {空}

B'->+FB | -FB' | 空
First(B'->+FB) -> {+}
First(B'->-FB) -> {-}
First(B'->空) -> {空}

F->GF'|G
上述First集存在两两相交，进行改造
F->GF''
F'' -> *GF' | /GF' | %GF' | 空
First(F->GF'') -> { (,k,l,m }
First(F'' -> *GF') -> {*}
First(F'' -> /GF') -> {/}
First(F'' -> %GF') -> {%}
First(F'' -> 空) -> {空}

F' -> *GF' | /GF' | %GF' | 空
First(F' -> *GF') -> {*}
First(F' -> /GF') -> {/}
First(F' -> %GF') -> {%}
First(F' -> 空) -> {空}

G -> (B) | H | I | J
First(G->(B)) -> {(}
First(G->H) -> {k,l}
First(G->I) -> {m}
First(G->J) -> {m}

H -> k|l
First(H->k) -> {k,l}

I -> m
First(I->m) -> {m}

J -> m(N)
First(J->m(N)) -> {m}

N -> O | 空
First(N->O) -> {}

O -> A | AO'
上述First集存在两两相交，进行改造
O -> AO''
O'' -> ,AO' | 空
First(O->AO'') -> { (,k,l,m,! }
First(O''->,AO') -> {,}
First(O''->空) -> {空}

O' -> ,AO' | 空
First(O' -> ,AO') -> {,}
First(O' -> 空) -> {空}

C -> BpB
First(C->BpB) -> { (, k, l, m }

D -> QD' | Q
上述First集存在两两相交，进行改造
D -> QD''
D'' -> ||QD' | 空
First(D->QD'') -> {(,k,l,m,!}
First(D''->||QD') -> {|}
First(D''->空) -> {空}

D' -> ||QD' | 空
First(D'->||QD') -> {|}
First(D'->空) -> {空}

Q -> RQ' | R
上述First集存在两两相交，进行改造
Q -> RQ''
Q'' -> &&RQ' | 空
First(Q->RQ'') -> {(,k,l,m,!}
First(Q''->&&RQ') -> {&}
First(Q''->空) -> {空}

Q' -> &&RQ' | 空
First(Q'->&&RQ') -> {&}
First(Q'->空) -> {空}

R-> B | C | !D
上述First集存在两两相交，进行改造
R -> BU | !D
U -> pB | 空
First(R->BU) -> {(,k,l,m,!}
First(R->!D) -> {!}
First(U->pB) -> {p}
First(U->空) ->{空}

E -> m=A
First(E->m=A) -> {m}


###综上，消除First交集后为
A -> ST | !DQ^D^
S -> GF^B^
T -> pBB' | !DQ^D^ | E | ||QD' | &&RQ'D^ | 空
B' -> ||QD' | &&QD'D^ | 空
F^ -> *GF' | /GF' | %GF'  | 空
B^ -> +FB' | -FB' | 空
Q^ -> &&RQ' | 空
D^ -> ||QD' | 空
B -> FB''
B'' -> +FB' | -FB' | 空
B'->+FB | -FB' | 空
F->GF''
F'' -> *GF' | /GF' | %GF' | 空
O -> AO''
O'' -> ,AO' | 空
O' -> ,AO' | 空
C -> BpB
D -> QD''
D'' -> ||QD' | 空
D' -> ||QD' | 空
Q -> RQ''
Q'' -> &&RQ' | 空
Q' -> &&RQ' | 空
R -> BU | !D
U -> pB | 空
E -> m=A
N -> O | 空
J -> m(N)
I -> m
H -> k|l
G -> (B) | H | I | J
F' -> *GF' | /GF' | %GF' | 空

### 消除含有空的First和Follow的交集
Follow(E) -> First(O')并{#} -> {&,空}
Follow(A) -> Follow(E)并First(O')并{#} -> {&,#,空}
Follow(T) -> Follow(A) ->  {&,#,空}



#--------------------------------------声明----------------------------------------------------------------------
<语句> -> <声明语句> | <执行语句>
<声明语句> -> <值声明> | <函数声明> | 空
<值声明> -> <常量声明> | <变量声明>
<常量声明> -> const <常量类型> <常量声明列表>
<常量类型> -> int | char | float
<常量声明列表> -> <标识符> = <常量>; | <标识符> = <常量>, <常量声明表>
<变量声明> -> <变量类型> <变量声明表>
<变量声明表> -> <单体变量声明>; | <单体变量声明>, <变量声明表>
<单体变量声明> -> <变量> | <变量> = <表达式>
<变量类型> -> int | float | char | void
<函数声明> -> <函数类型> <标识符> (<函数声明形参列表>)
<函数类型> -> int | float | char | void
<函数声明形参列表> -> <函数声明形参> | 空
<函数声明形参> -> <变量类型> | <变量类型> , <函数声明形参>

#--------------------------------------语句----------------------------------------------------------------------

<执行语句> -> <数据处理语句> | <控制语句> | <复合语句>

<数据处理语句> -> <赋值语句> | <函数调用语句>

<赋值语句> -> <赋值表达式>;

<函数调用语句> -> <函数调用>;

<控制语句> -> <if 语句> | <for 语句> | <while 语句> | <do while 语句> | <return 语句>

<复合语句> -> {<语句表>}

<语句表> -> <语句> | <语句> <语句表>

<if 语句> -> if (<表达式>) <语句> | if (<表达式>) <语句> else <语句>

<for 语句> -> for (<表达式>; <表达式>; <表达式>) <循环语句>

<while 语句> -> while (表达式)<循环语句>

<do while语句> -> do <循环用复合语句> while <表达式>;

<循环语句> -> <声明语句> | <循环执行语句> | <循环复合语句>

<循环复合语句> -> {<循环语句表>}

<循环语句表> -> <循环语句> | <循环语句> <循环语句表>

<循环执行语句> -> <循环if语句> | <for语句> | <while语句> | <do while语句> | <return语句> | <break语句> | <continue语句>

<循环if语句> -> if(<表达式>)<循环语句> | if(<表达式>)<循环语句>else<循环语句>

<return语句> -> return;|return <表达式>;

<break语句> -> break;

<continue语句> -> continue;

#--------------------------------------函数----------------------------------------------------------------------


<函数定义> -> <函数类型> <标识符> (<函数定义参数列表>) <复合语句>

<函数定义参数列表> -> <函数定义形参> | 空

<函数定义形参> -> <变量类型> <标识符> | <变量类型> <标识符>,<函数定义形参>


#-----------------------------------------程序-------------------------------------------------------------------

<程序> -> <声明语句> main() <复合语句> <函数块>

<函数块> -> <函数定义> <函数块> | 空
